(function(e){e.fn.noUiSlider=function(t,n){function r(e,t,n){var r=t.data("setup"),i=r.handles;return t=r.settings,r=r.pos,e=0>e?0:100<e?100:e,2==t.handles&&(n.is(":first-child")?(n=parseFloat(i[1][0].style[r])-t.margin,e=e>n?n:e):(n=parseFloat(i[0][0].style[r])+t.margin,e=e<n?n:e)),t.step&&(n=o.from(t.range,t.step),e=Math.round(e/n)*n),e}function i(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}}var s=window.navigator.msPointerEnabled?2:"ontouchend"in document?3:1;window.debug&&console&&console.log(s);var o={to:function(e,t){return t=0>e[0]?t+Math.abs(e[0]):t-e[0],100*t/this._length(e)},from:function(e,t){return 100*t/this._length(e)},is:function(e,t){return t*this._length(e)/100+e[0]},_length:function(e){return e[0]>e[1]?e[0]-e[1]:e[1]-e[0]}},u={handles:2,serialization:{to:["",""],resolution:.01}};methods={create:function(){return this.each(function(){var n=e.extend(u,t),a=e(this).data("_isnS_",!0),l=[],c,h,p="",d=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v=(n.serialization.resolution=n.serialization.resolution||.01).toString().split("."),g=1==v[0]?0:v[1].length;n.start=d(n.start)?[n.start,0]:n.start,e.each(n,function(e,t){d(t)?n[e]=parseFloat(t):"object"==typeof t&&d(t[0])&&(t[0]=parseFloat(t[0]),d(t[1])&&(t[1]=parseFloat(t[1])));var r=!1;t="undefined"==typeof t?"x":t;switch(e){case"range":case"start":r=2!=t.length||!d(t[0])||!d(t[1]);break;case"handles":r=1>t||2<t||!d(t);break;case"connect":r="lower"!=t&&"upper"!=t&&"boolean"!=typeof t;break;case"orientation":r="vertical"!=t&&"horizontal"!=t;break;case"margin":case"step":r="undefined"!=typeof t&&!d(t);break;case"serialization":r="object"!=typeof t||!d(t.resolution)||"object"==typeof t.to&&t.to.length<n.handles;break;case"slide":r="function"!=typeof t}r&&console&&console.error("Bad input for "+e+" on slider:",a)}),n.margin=n.margin?o.from(n.range,n.margin):0;if(n.serialization.to instanceof jQuery||"string"==typeof n.serialization.to||!1===n.serialization.to)n.serialization.to=[n.serialization.to];"vertical"==n.orientation?(p+="vertical",c="top",h=1):(p+="horizontal",c="left",h=0),p+=n.connect?"lower"==n.connect?" connect lower":" connect":"",a.addClass(p);for(p=0;p<n.handles;p++){l[p]=a.append("<a><div></div></a>").children(":last"),v=o.to(n.range,n.start[p]),l[p].css(c,v+"%"),100==v&&l[p].is(":first-child")&&l[p].css("z-index",2);var v=(1===s?"mousedown":2===s?"MSPointerDown":"touchstart")+".noUiSliderX",y=(1===s?"mousemove":2===s?"MSPointerMove":"touchmove")+".noUiSlider",b=(1===s?"mouseup":2===s?"MSPointerUp":"touchend")+".noUiSlider";l[p].find("div").on(v,function(t){e("body").bind("selectstart.noUiSlider",function(){return!1});if(!a.hasClass("disabled")){e("body").addClass("TOUCH");var s=e(this).addClass("active").parent(),u=s.add(e(document)).add("body"),p=parseFloat(s[0].style[c]),d=i(t),v=d,w=!1;e(document).on(y,function(e){e.preventDefault(),e=i(e);if("x"!=e[0]){e[0]-=d[0],e[1]-=d[1];var t=[v[0]!=e[0],v[1]!=e[1]],u=p+100*e[h]/(h?a.height():a.width()),u=r(u,a,s);if(t[h]&&u!=w){s.css(c,u+"%").data("input").val(o.is(n.range,u).toFixed(g));var t=n.slide,f=a.data("_n",!0);"function"==typeof t&&t.call(f,void 0),w=u,s.css("z-index",2==l.length&&100==u&&s.is(":first-child")?2:1)}v=e}}).on(b,function(){u.off(".noUiSlider"),e("body").removeClass("TOUCH"),a.find(".active").removeClass("active").end().data("_n")&&a.data("_n",!1).change()})}}).on("click",function(e){e.stopPropagation()})}1==s&&a.on("click",function(e){if(!a.hasClass("disabled")){var t=i(e);e=100*(t[h]-a.offset()[c])/(h?a.height():a.width()),t=1<l.length?t[h]<(l[0].offset()[c]+l[1].offset()[c])/2?l[0]:l[1]:l[0],e=r(e,a,t),t.css(c,e+"%").data("input").val(o.is(n.range,e).toFixed(g)),e=n.slide,"function"==typeof e&&e.call(a,void 0),a.change()}});for(p=0;p<l.length;p++)v=o.is(n.range,parseFloat(l[p][0].style[c])).toFixed(g),"string"==typeof n.serialization.to[p]?l[p].data("input",a.append('<input type="hidden" name="'+n.serialization.to[p]+'">').find("input:last").val(v).change(function(e){e.stopPropagation()})):0==n.serialization.to[p]?l[p].data("input",{val:function(e){if("undefined"==typeof e)return this.handle.data("noUiVal");this.handle.data("noUiVal",e)},handle:l[p]}):l[p].data("input",n.serialization.to[p].data("handleNR",p).val(v).change(function(){var t=[null,null];t[e(this).data("handleNR")]=e(this).val(),a.val(t)}));e(this).data("setup",{settings:n,handles:l,pos:c,res:g})})},val:function(t){if("undefined"!=typeof t){var n="number"==typeof t?[t]:t;return this.each(function(){for(var t=e(this).data("setup"),i=0;i<t.handles.length;i++)if(null!=n[i]){var s=r(o.to(t.settings.range,n[i]),e(this),t.handles[i]);t.handles[i].css(t.pos,s+"%").data("input").val(o.is(t.settings.range,s).toFixed(t.res))}})}t=e(this).data("setup").handles;for(var i=[],s=0;s<t.length;s++)i.push(parseFloat(t[s].data("input").val()));return 1==i.length?i[0]:i},disabled:function(){return n?e(this).addClass("disabled"):e(this).removeClass("disabled")}};var a=jQuery.fn.val;return jQuery.fn.val=function(){return this.data("_isnS_")?methods.val.apply(this,arguments):a.apply(this,arguments)},"disabled"==t?methods.disabled.apply(this):methods.create.apply(this)}})(jQuery);